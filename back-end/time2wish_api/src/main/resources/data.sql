-- **************************************************-- SCRIPT D'INITIALISATION DE LA BASE DE DONNÉES (data.sql)-- **************************************************-- 1. DROP TABLES (Assurer une exécution propre pour les tests)---------------------------------------------------------------- DROP TABLE birthdays D'ABORD car elle contient la clé étrangère (user_id)DROP TABLE IF EXISTS birthdays;DROP TABLE IF EXISTS users;-- 2. CREATE TABLES (Création de USERS d'abord car BIRTHDAYS en dépend)---------------------------------------------------------------- Création de la table USERSCREATE TABLE users (                       id INT AUTO_INCREMENT PRIMARY KEY,                       profile_picture VARCHAR(255),                       full_name VARCHAR(255) NOT NULL,                       email VARCHAR(255) NOT NULL UNIQUE,                       password_hash VARCHAR(255) NOT NULL,                       bio TEXT,                       notifications_enabled BOOLEAN DEFAULT TRUE,                       theme VARCHAR(50) NOT NULL DEFAULT 'SYSTEM',                       language VARCHAR(10) NOT NULL DEFAULT 'fr',                       status VARCHAR(50) NOT NULL DEFAULT 'ACTIVE',                       created_at TIMESTAMP NOT NULL,                       updated_at TIMESTAMP NOT NULL,                       last_login_at TIMESTAMP,                       reset_token VARCHAR(255) DEFAULT NULL,                       reset_token_expiry TIMESTAMP DEFAULT NULL);-- Création de la table BIRTHDAYS (avec la clé étrangère user_id)CREATE TABLE birthdays (                           id INT AUTO_INCREMENT PRIMARY KEY,                           user_id VARCHAR(36) NOT NULL, -- Clé étrangère                           photo VARCHAR(250),                           name VARCHAR(250) NOT NULL,                           city VARCHAR(250),                           category VARCHAR(250),                           date DATE NOT NULL,                           email VARCHAR(250),                           phone VARCHAR(50),                           notes VARCHAR(255),                           enable_reminders BOOLEAN DEFAULT false,                           passed BOOLEAN DEFAULT false,                           preferencies VARCHAR(250),    -- Définition de la contrainte de clé étrangère                           FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE);-- 3. INSERT USERS (Les utilisateurs doivent exister avant que les anniversaires ne les référencent)---------------------------------------------------------------- Les UUIDs (IDs) sont réutilisés ici pour lier les anniversaires plus tard.INSERT INTO users (id, profile_picture, full_name, email, password_hash, bio, notifications_enabled, theme, language, status, created_at, updated_at, last_login_at, reset_token, reset_token_expiry)VALUES    -- U1: Alice Dupont (ID: 0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1)    ('1', 'https://randomuser.me/api/portraits/men/1.jpg', 'Alice Dupont', 'alice.dupont@time2wish.fr', '$2a$10$ZfzEvJL/lzx5Nz92EaE5SuZDU7k/6sedHm69FJWMfEhxaQEEtffcS', 'Organisatrice d''événements.', TRUE, 'DARK', 'fr', 'ACTIVE', '2023-01-15 10:00:00', '2025-10-27 18:30:00', '2025-10-27 18:30:00', 'a1b2c3d4', '2026-03-03 00:30:00' ),    -- U2: Bob Martin (ID: 1a2b3c4d-5e6f-7g8h-9i0j-1k2l3m4n5o6p)    ('2', 'https://randomuser.me/api/portraits/women/2.jpg', 'Bob Martin', 'bob.martin@inactif.com', '$2a$10$a.B1C2D3E4F5G6H7I8J9K0L1M2N3O4P5Q6R7S8T9U0V1W2X3Y4Z5', NULL, FALSE, 'LIGHT', 'en', 'INACTIVE', '2022-05-20 14:45:00', '2023-08-10 09:15:00', '2023-08-10 09:15:00', 'a1b2c3d4', '2026-03-03 00:30:00'),    -- U3: Émilie Dubois (ID: 9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v)    ('3', 'https://randomuser.me/api/portraits/women/4.jpg', 'Émilie Dubois', 'emilie.dubois@test.fr', '$2a$10$K.L9M8N7O6P5Q4R3S2T1U0V9W8X7Y6Z5A4B3C2D1E0F9G8H7I6J5', 'Organiser les anniversaires clients.', TRUE, 'LIGHT', 'fr', 'ACTIVE', '2024-03-01 08:30:00', '2025-10-26 10:00:00', '2025-10-26 10:00:00', 'a1b2c3d4', '2026-03-03 00:30:00');-- 4. INSERT BIRTHDAYS (Association des anniversaires aux utilisateurs)---------------------------------------------------------------- Colonne ajoutée: user_idINSERT INTO birthdays (user_id, photo, name, city, category, date, email, phone, notes, enable_reminders, passed, preferencies)VALUES    -- Anniversaires attribués à ALICE DUPONT (U1)    ('1', 'https://randomuser.me/api/portraits/men/51.jpg','Jean Blanc','Rennes','Colleague','2004-10-21','jean.blanc@example.com','0612345678','Ancien collègue de chez XYZ',TRUE,FALSE,'chocolate'),    ('1', 'https://randomuser.me/api/portraits/women/6.jpg','Camille Laurent','Paris','Business','2010-06-16','c.laurent@business.com','0798765432','Contact professionnel salon 2010',TRUE,FALSE,NULL),    ('1', 'https://randomuser.me/api/portraits/women/75.jpg','Sophie Roux','Marseille','Business','2019-03-19','sophie.roux@entreprise.fr','0687654321','',FALSE,FALSE,NULL),    ('1', 'https://randomuser.me/api/portraits/men/10.jpg','Antoine Petit','Angers','Business','2019-09-13','antoine.petit@pro.fr','0655667788','',TRUE,FALSE,NULL),    ('1', 'https://randomuser.me/api/portraits/men/97.jpg','Pierre Lambert','Lyon','Colleague','1993-05-08','pierre.lambert@mail.com','0644556677','Bureau 204 ancienne entreprise',TRUE,FALSE,NULL),    ('1', 'https://randomuser.me/api/portraits/women/38.jpg','Camille Leroy','Grenoble','Friend','2009-06-24','camille.leroy@perso.fr','0788990011','Amie d''enfance',TRUE,FALSE,NULL),    ('1', 'https://randomuser.me/api/portraits/women/94.jpg','Sophie Bernard','Nantes','Business','2021-02-09','s.bernard@network.com','0688990011','Nouveau contact professionnel',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/12.jpg','Lucas Martin','Paris','Friend','2025-11-23','lucas.martin@example.com','0678123456','Ami de longue date',TRUE,FALSE,'vanilla'),    ('1','https://randomuser.me/api/portraits/women/44.jpg','Emma Dupont','Lyon','Colleague','2025-11-24','emma.dupont@work.com','0689452312','Travaille au service IT',TRUE,TRUE,NULL),    ('1','https://randomuser.me/api/portraits/men/83.jpg','Hugo Bernard','Marseille','Business','2025-11-25','hugo.b@network.fr','0678923412','Contact salon tech 2023',FALSE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/16.jpg','Léa Morel','Rennes','Friend','2025-11-26','lea.morel@mail.fr','0765321987','Amie du lycée',TRUE,FALSE,'strawberry'),    ('1','https://randomuser.me/api/portraits/men/30.jpg','Nathan Lefèvre','Toulouse','Business','2025-11-27','nathan.lefevre@pro.fr','0677341298','Rencontré à une conférence',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/12.jpg','Chloé Fontaine','Nice','Colleague','2025-11-28','chloe.fontaine@office.com','0655782345','Colleague du projet X',FALSE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/24.jpg','Mathis Dupuis','Strasbourg','Family','2025-11-29','mathis.dupuis@fam.fr','0789345612','Cousin maternel',TRUE,FALSE,'chocolate'),    ('1','https://randomuser.me/api/portraits/women/65.jpg','Inès Gauthier','Lille','Business','2025-11-30','ines.gauthier@corp.com','0698234571','Contact Linkedin',TRUE,TRUE,NULL),    ('1','https://randomuser.me/api/portraits/men/45.jpg','Ethan Renault','Dijon','Friend','2025-12-01','ethan.renault@mail.com','0678452391','Rencontré en vacances',FALSE,FALSE,'mango'),    ('1','https://randomuser.me/api/portraits/women/77.jpg','Manon Caron','Bordeaux','Business','2025-12-02','manon.caron@business.fr','0789213456','Partenaire commercial',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/70.jpg','Arthur Noel','Paris','Friend','2025-12-03','arthur.noel@mail.fr','0676234598','Ami de fac',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/8.jpg','Jade Millet','Lyon','Colleague','2025-12-04','jade.millet@company.fr','0698771122','Travaille au marketing',FALSE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/6.jpg','Tom Roger','Rennes','Friend','2025-12-05','tom.roger@mail.com','0788234599','Voisin de palier',TRUE,FALSE,'vanilla'),    ('1','https://randomuser.me/api/portraits/women/21.jpg','Zoé Barre','Marseille','Business','2025-12-06','zoe.barre@pro.fr','0689124578','Rencontrée à un meetup',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/53.jpg','Noah Fabre','Nice','Colleague','2025-12-07','noah.fabre@work.com','0678223344','IT colleague',TRUE,TRUE,NULL),    ('1','https://randomuser.me/api/portraits/women/31.jpg','Sarah Guerin','Toulouse','Family','2025-12-08','sarah.guerin@fam.fr','0655987766','Cousine paternelle',FALSE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/14.jpg','Victor Payet','Lille','Friend','2025-12-09','victor.payet@mail.fr','0778123564','Ami d’enfance',TRUE,FALSE,'chocolate'),    ('1','https://randomuser.me/api/portraits/women/53.jpg','Mia Hoarau','Bordeaux','Business','2025-12-10','mia.hoarau@entreprise.fr','0698221479','Partenaire RH',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/4.jpg','Adam Diallo','Reims','Colleague','2025-12-11','adam.diallo@office.fr','0678122233','Travaille au support',FALSE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/18.jpg','Léna Dufour','Lyon','Friend','2025-12-12','lena.dufour@mail.com','0667342311','Ami du sport',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/41.jpg','Sacha Pereira','Paris','Business','2025-12-13','sacha.pereira@b2b.com','0689341123','Contact partenariat',TRUE,TRUE,NULL),    ('1','https://randomuser.me/api/portraits/women/27.jpg','Mila Fontaine','Rennes','Colleague','2025-12-14','mila.fontaine@it.fr','0655982347','UX Designer',FALSE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/55.jpg','Rayan Michel','Nice','Friend','2025-12-15','rayan.michel@mail.net','0789341122','Connaissance du quartier',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/81.jpg','Anaïs Colin','Strasbourg','Business','2025-12-16','anais.colin@startup.fr','0678129988','Investisseuse',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/87.jpg','Louis Etienne','Dijon','Colleague','2025-12-17','louis.etienne@enterprise.com','0765231984','Chef de projet',TRUE,TRUE,'coffee'),    ('1','https://randomuser.me/api/portraits/women/14.jpg','Clara Albert','Toulouse','Friend','2025-12-18','clara.albert@mail.fr','0698231457','Ami Erasmus',FALSE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/35.jpg','Gabriel Bourdon','Reims','Business','2025-12-19','gabriel.bourdon@pro.com','0678432199','Consultant externe',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/67.jpg','Lola Rey','Grenoble','Friend','2025-12-20','lola.rey@mail.com','0667231987','Ancienne camarade',TRUE,FALSE,'vanilla'),    ('1','https://randomuser.me/api/portraits/men/19.jpg','Evan Letellier','Lille','Colleague','2025-12-21','evan.letellier@company.com','0687432123','Travaille en QA',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/59.jpg','Nina Rivière','Paris','Friend','2025-12-22','nina.riviere@mail.fr','0789223341','Amie yoga',TRUE,FALSE,'hazelnut'),    ('1','https://randomuser.me/api/portraits/men/88.jpg','Léo Henry','Lyon','Business','2025-12-23','leo.henry@business.com','0667342199','Rencontré en workshop',FALSE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/48.jpg','Élise Allard','Nice','Colleague','2025-12-24','elise.allard@office.com','0655987345','RH',TRUE,TRUE,NULL),    ('1','https://randomuser.me/api/portraits/men/36.jpg','Théo Munoz','Toulouse','Friend','2025-12-25','theo.munoz@mail.fr','0678435678','Ami gamer',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/62.jpg','Julia Marty','Marseille','Business','2025-12-26','julia.marty@network.com','0789123476','Partenaire B2B',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/men/23.jpg','Aaron Ramos','Strasbourg','Friend','2025-12-27','aaron.ramos@mail.com','0687342298','Connaissance du sport',FALSE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/73.jpg','Éva Renard','Rennes','Colleague','2025-12-28','eva.renard@company.fr','0678991123','DSI',TRUE,TRUE,'vanilla'),    ('1','https://randomuser.me/api/portraits/men/80.jpg','Enzo Besson','Paris','Family','2025-12-29','enzo.besson@famille.fr','0667123459','Oncle',TRUE,FALSE,NULL),    ('1','https://randomuser.me/api/portraits/women/45.jpg','Oceane Fleury','Lyon','Friend','2025-12-30','oceane.fleury@mail.fr','0678345671','Ami du club',FALSE,FALSE,NULL),    -- Anniversaires attribués à ÉMILIE DUBOIS (U3)    ('3', 'https://randomuser.me/api/portraits/women/26.jpg','Amélie Roux','Toulouse','Business','2010-09-05','a.roux@corp.com','0611223344','Directrice marketing',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/12.jpg','Hugo Mercier','Montpellier','Business','2020-09-04','h.mercier@company.com','0722334455','Fondateur Startup Inc.',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/12.jpg','Thomas Leroy','Grenoble','Business','1987-06-07','','','Contact perdu',FALSE,TRUE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/4.jpg','Pierre Blanc','Strasbourg','Friend','2010-01-23','pierre.blanc@domaine.com','0622334455','Rencontré en voyage',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/women/97.jpg','Marie Laurent','Nantes','Friend','2007-02-04','marie.laurent@email.com','0699887766','',FALSE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/87.jpg','Alexandre Moreau','Lyon','Family','2021-07-09','','0601020304','Cousin germain',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/women/20.jpg','Juliette Blanc','Nice','Friend','1981-06-21','','','Amie de la famille',TRUE,TRUE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/23.jpg','Louis Petit','Nantes','Family','1997-07-31','louis.p@family.org','0677889900','Frère cadet',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/23.jpg','Thomas Mercier','Clermont-Ferrand','Family','1984-07-22','','','Oncle - décédé en 2015',FALSE,TRUE,NULL),    ('3', 'https://randomuser.me/api/portraits/women/3.jpg','Zoé Roux','Grenoble','Family','2018-12-12','zoe.roux@baby.com','','Nièce - envoyer carte',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/women/87.jpg','Chloé Blanc','Grenoble','Friend','2000-03-22','chloe.b@friendmail.com','0722446688','Meilleure amie',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/30.jpg','Maxime Leroy','Toulouse','Colleague','2021-06-23','maxime.leroy@work.com','0633445566','Développeur dans mon équipe',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/9.jpg','Maxime Leroy','Lyon','Business','1998-05-07','m.leroy@oldcompany.fr','','Ancien partenaire commercial',FALSE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/22.jpg','Antoine Laurent','Rennes','Business','1996-04-01','antoine.l@business.fr','0611223344','',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/men/14.jpg','Alexandre Girard','Lille','Colleague','1992-10-18','a.girard@company.org','0755667788','Manager pendant 5 ans',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/women/57.jpg','Julie Lambert','Bordeaux','Friend','2018-08-02','julie.lambert@mail.fr','0622334455','Rencontrée à un concert',TRUE,FALSE,NULL),    ('3', 'https://randomuser.me/api/portraits/women/14.jpg','Juliette Chevalier','Toulouse','Friend','2021-08-02','juju.chevalier@email.com','0788990011','',TRUE,FALSE,NULL),    ('3','https://randomuser.me/api/portraits/men/15.jpg','Lucas Leroy','Toulouse','Friend','2014-08-01','lucas.leroy@perso.fr','0699887766','Groupe de sport',TRUE,FALSE,NULL);