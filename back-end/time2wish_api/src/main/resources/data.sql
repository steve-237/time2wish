-- **************************************************-- SCRIPT D'INITIALISATION DE LA BASE DE DONNÉES (data.sql)-- **************************************************-- 1. DROP TABLES (Assurer une exécution propre pour les tests)---------------------------------------------------------------- DROP TABLE birthdays D'ABORD car elle contient la clé étrangère (user_id)DROP TABLE IF EXISTS birthdays;DROP TABLE IF EXISTS users;-- 2. CREATE TABLES (Création de USERS d'abord car BIRTHDAYS en dépend)---------------------------------------------------------------- Création de la table USERSCREATE TABLE users (                       id VARCHAR(36) PRIMARY KEY,                       profile_picture VARCHAR(255),                       full_name VARCHAR(255) NOT NULL,                       email VARCHAR(255) NOT NULL UNIQUE,                       password_hash VARCHAR(255) NOT NULL,                       bio TEXT,                       notifications_enabled BOOLEAN DEFAULT TRUE,                       theme VARCHAR(50) NOT NULL DEFAULT 'SYSTEM',                       language VARCHAR(10) NOT NULL DEFAULT 'fr',                       status VARCHAR(50) NOT NULL DEFAULT 'ACTIVE',                       created_at TIMESTAMP NOT NULL,                       updated_at TIMESTAMP NOT NULL,                       last_login_at TIMESTAMP);-- Création de la table BIRTHDAYS (avec la clé étrangère user_id)CREATE TABLE birthdays (                           id INT AUTO_INCREMENT PRIMARY KEY,                           user_id VARCHAR(36) NOT NULL, -- Clé étrangère                           photo VARCHAR(250),                           name VARCHAR(250) NOT NULL,                           city VARCHAR(250),                           category VARCHAR(250),                           date DATE NOT NULL,                           email VARCHAR(250),                           phone VARCHAR(50),                           notes VARCHAR(255),                           enable_reminders BOOLEAN DEFAULT false,                           passed BOOLEAN DEFAULT false,                           preferencies VARCHAR(250),    -- Définition de la contrainte de clé étrangère                           FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE);-- 3. INSERT USERS (Les utilisateurs doivent exister avant que les anniversaires ne les référencent)---------------------------------------------------------------- Les UUIDs (IDs) sont réutilisés ici pour lier les anniversaires plus tard.INSERT INTO users (id, profile_picture, full_name, email, password_hash, bio, notifications_enabled, theme, language, status, created_at, updated_at, last_login_at)VALUES    -- U1: Alice Dupont (ID: 0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1)    ('0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1', 'https://randomuser.me/api/portraits/men/1.jpg', 'Alice Dupont', 'alice.dupont@time2wish.fr', '$2a$10$e.C0QG3c0i0T3Q4F0h0Q.eZ6t0U7X0Y9z0L5H0I8S0M.p0R7V0', 'Organisatrice d''événements.', TRUE, 'DARK', 'fr', 'ACTIVE', '2023-01-15 10:00:00', '2025-10-27 18:30:00', '2025-10-27 18:30:00'),    -- U2: Bob Martin (ID: 1a2b3c4d-5e6f-7g8h-9i0j-1k2l3m4n5o6p)    ('1a2b3c4d-5e6f-7g8h-9i0j-1k2l3m4n5o6p', 'https://randomuser.me/api/portraits/women/2.jpg', 'Bob Martin', 'bob.martin@inactif.com', '$2a$10$a.B1C2D3E4F5G6H7I8J9K0L1M2N3O4P5Q6R7S8T9U0V1W2X3Y4Z5', NULL, FALSE, 'LIGHT', 'en', 'INACTIVE', '2022-05-20 14:45:00', '2023-08-10 09:15:00', '2023-08-10 09:15:00'),    -- U3: Émilie Dubois (ID: 9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v)    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/women/4.jpg', 'Émilie Dubois', 'emilie.dubois@test.fr', '$2a$10$K.L9M8N7O6P5Q4R3S2T1U0V9W8X7Y6Z5A4B3C2D1E0F9G8H7I6J5', 'Organiser les anniversaires clients.', TRUE, 'LIGHT', 'fr', 'ACTIVE', '2024-03-01 08:30:00', '2025-10-26 10:00:00', '2025-10-26 10:00:00');-- 4. INSERT BIRTHDAYS (Association des anniversaires aux utilisateurs)---------------------------------------------------------------- Colonne ajoutée: user_idINSERT INTO birthdays (user_id, photo, name, city, category, date, email, phone, notes, enable_reminders, passed, preferencies)VALUES    -- Anniversaires attribués à ALICE DUPONT (U1)    ('0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1', 'https://randomuser.me/api/portraits/men/51.jpg','Jean Blanc','Rennes','Colleague','2004-10-21','jean.blanc@example.com','0612345678','Ancien collègue de chez XYZ',TRUE,FALSE,'chocolate'),    ('0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1', 'https://randomuser.me/api/portraits/women/6.jpg','Camille Laurent','Paris','Business','2010-06-16','c.laurent@business.com','0798765432','Contact professionnel salon 2010',TRUE,FALSE,NULL),    ('0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1', 'https://randomuser.me/api/portraits/women/75.jpg','Sophie Roux','Marseille','Business','2019-03-19','sophie.roux@entreprise.fr','0687654321','',FALSE,FALSE,NULL),    ('0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1', 'https://randomuser.me/api/portraits/men/10.jpg','Antoine Petit','Angers','Business','2019-09-13','antoine.petit@pro.fr','0655667788','',TRUE,FALSE,NULL),    ('0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1', 'https://randomuser.me/api/portraits/men/97.jpg','Pierre Lambert','Lyon','Colleague','1993-05-08','pierre.lambert@mail.com','0644556677','Bureau 204 ancienne entreprise',TRUE,FALSE,NULL),    ('0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1', 'https://randomuser.me/api/portraits/women/38.jpg','Camille Leroy','Grenoble','Friend','2009-06-24','camille.leroy@perso.fr','0788990011','Amie d''enfance',TRUE,FALSE,NULL),    ('0e7e1c8a-9a0d-4b8c-8c3b-51c3606f23b1', 'https://randomuser.me/api/portraits/women/94.jpg','Sophie Bernard','Nantes','Business','2021-02-09','s.bernard@network.com','0688990011','Nouveau contact professionnel',TRUE,FALSE,NULL),    -- Anniversaires attribués à ÉMILIE DUBOIS (U3)    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/women/26.jpg','Amélie Roux','Toulouse','Business','2010-09-05','a.roux@corp.com','0611223344','Directrice marketing',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/12.jpg','Hugo Mercier','Montpellier','Business','2020-09-04','h.mercier@company.com','0722334455','Fondateur Startup Inc.',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/12.jpg','Thomas Leroy','Grenoble','Business','1987-06-07','','','Contact perdu',FALSE,TRUE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/4.jpg','Pierre Blanc','Strasbourg','Friend','2010-01-23','pierre.blanc@domaine.com','0622334455','Rencontré en voyage',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/women/97.jpg','Marie Laurent','Nantes','Friend','2007-02-04','marie.laurent@email.com','0699887766','',FALSE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/87.jpg','Alexandre Moreau','Lyon','Family','2021-07-09','','0601020304','Cousin germain',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/women/20.jpg','Juliette Blanc','Nice','Friend','1981-06-21','','','Amie de la famille',TRUE,TRUE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/23.jpg','Louis Petit','Nantes','Family','1997-07-31','louis.p@family.org','0677889900','Frère cadet',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/23.jpg','Thomas Mercier','Clermont-Ferrand','Family','1984-07-22','','','Oncle - décédé en 2015',FALSE,TRUE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/women/3.jpg','Zoé Roux','Grenoble','Family','2018-12-12','zoe.roux@baby.com','','Nièce - envoyer carte',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/women/87.jpg','Chloé Blanc','Grenoble','Friend','2000-03-22','chloe.b@friendmail.com','0722446688','Meilleure amie',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/30.jpg','Maxime Leroy','Toulouse','Colleague','2021-06-23','maxime.leroy@work.com','0633445566','Développeur dans mon équipe',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/9.jpg','Maxime Leroy','Lyon','Business','1998-05-07','m.leroy@oldcompany.fr','','Ancien partenaire commercial',FALSE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/22.jpg','Antoine Laurent','Rennes','Business','1996-04-01','antoine.l@business.fr','0611223344','',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/14.jpg','Alexandre Girard','Lille','Colleague','1992-10-18','a.girard@company.org','0755667788','Manager pendant 5 ans',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/women/57.jpg','Julie Lambert','Bordeaux','Friend','2018-08-02','julie.lambert@mail.fr','0622334455','Rencontrée à un concert',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/women/14.jpg','Juliette Chevalier','Toulouse','Friend','2021-08-02','juju.chevalier@email.com','0788990011','',TRUE,FALSE,NULL),    ('9g0h1i2j-3k4l-5m6n-7o8p-9q0r1s2t3u4v', 'https://randomuser.me/api/portraits/men/15.jpg','Lucas Leroy','Toulouse','Friend','2014-08-01','lucas.leroy@perso.fr','0699887766','Groupe de sport',TRUE,FALSE,NULL);